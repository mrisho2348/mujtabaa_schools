{% extends 'student_template/base_template.html' %}
<title>{% block title %}
    Results
    {% endblock title %}</title>
{% load static %}

{% block main_content %}
<div class="container mt-5">
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">
      {{ student.admin.first_name }}'s Subject-wise Results for {{ exam_type.name }}
    </div>
    <div class="card-body">
      {% if results %}
        <table class="table table-hover" id="example">
          <thead>
            <tr>
              <th>Subject</th>
              <th>Marks</th>
              <th>Grade</th>
              <th>Pass/Fail</th>
            </tr>
          </thead>
          <tbody>
            {% for result in results %}
              <tr>
                <td>{{ result.subject.subject_name }}</td>
                <td>{{ result.marks }}</td>
                <td>{{ result.determine_grade }}</td>
                <td>{{ result.determine_pass_fail }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
        {% if position != "Position Not Available" and total_grade_points != "Total Grade Points Not Available" %}
          <p>Position: {{ position }}/ {{ total_students }}</p>
          <p>Total Grade Points: {{ total_grade_points }}</p>
          <p>Division: {{ division }}</p>
        {% else %}
          <p>Position, Total Grade Points, and Division information is not available.</p>
        {% endif %}
      {% else %}
        <p>No <span style="color:brown">{{ exam_type.name }}</span> subject-wise results assigned yet for this student.</p>
      {% endif %}
    </div>
  </div>
</div>
    
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>


<script>
    new DataTable('#example');
</script>
{% endblock main_content %}
