{% extends 'hod_template/base_template.html' %}
{% block title %}
ADMIN HOME
{% endblock title %}
{% block main_content %}
<section class="content">
    <div class="container-fluid">
        <!-- First Row -->
        <div class="row">
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3>{{ staff_count }}</h3>
                        <p>Total Staff</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-users"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3>{{ subject_count }}</h3>
                        <p>Total Subjects</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-book"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3>{{ student_count }}</h3>
                        <p>Total Students</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-user-graduate"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-primary">
                    <div class="inner">
                        <h3>{{ classroom_count }}</h3>
                        <p>Total Classrooms</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-chalkboard"></i>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->

        <!-- Second Row -->
        <div class="row">
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-danger">
                    <div class="inner">
                        <h3>{{ security_count }}</h3>
                        <p>Total Security Staff</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-primary">
                    <div class="inner">
                        <h3>{{ cooker_count }}</h3>
                        <p>Total Cookers</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3>{{ driver_count }}</h3>
                        <p>Total Drivers</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-bus"></i>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-6">
                <!-- small box -->
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3>{{ cleaner_count }}</h3>
                        <p>Total Cleaners</p>
                    </div>
                    <div class="icon">
                        <i class="fas fa-broom"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
          <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-warning">
                <div class="inner">
                    <h3>{{ parent_count }}</h3>
                    <p>Total Parents</p>
                </div>
                <div class="icon">
                    <i class="fas fa-users"></i>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-primary">
                <div class="inner">
                    <h3>{{ route_count }}</h3>
                    <p>Total Routes</p>
                </div>
                <div class="icon">
                    <i class="fas fa-route"></i>
                </div>
            </div>
        </div>
        <!-- /.row -->

        <!-- Sixth Row -->
<div class="row">
  <div class="col-lg-6">
      <!-- BAR CHART for Route Student Counts -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Number of Students in Each Route</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart5" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
  <div class="col-lg-6">
      <!-- BAR CHART for Staff Attendance Counts -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Number of Attendance Taken by Each Staff</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart6" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
  
</div>
<!-- Seventh Row -->
<div class="row">
  <div class="col-lg-6">
      <!-- BAR CHART for Driver Transport Attendance Counts -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Number of Transport Attendance Taken by Each Driver</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart7" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
  <div class="col-lg-6">
      <!-- BAR CHART for Driver Leaves -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Driver Leaves Vs Attendance</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart8" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
</div>
<!-- Fourth Row -->
<div class="row">
  <div class="col-lg-6">
      <!-- BAR CHART -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Staff Leaves Vs Attendance</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
  <div class="col-lg-6">
      <!-- BAR CHART -->
      <div class="card card-success">
          <div class="card-header">
              <h3 class="card-title">Students Leaves Vs Attendance</h3>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                      <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                      <i class="fas fa-times"></i>
                  </button>
              </div>
          </div>
          <div class="card-body">
              <div class="chart">
                  <canvas id="barChart2" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
          </div>
          <!-- /.card-body -->
      </div>
      <!-- /.card -->
  </div>
</div>


</div>

        <!-- Third Row - Add more small boxes or sections as needed -->
    </div>
</section>
{% endblock main_content %}

{% block customer_js %}
<script>
  // Get the canvas element
  var ctx = document.getElementById('barChart5').getContext('2d');
  var routeNames = [
    {% for route in route_student_counts %}
        "{{ route.name }}",
    {% endfor %}
];


var studentCounts = [
    {% for route in route_student_counts %}
        {{ route.total_students }},
    {% endfor %}
];
console.log(routeNames)
  // Define the data for the chart
  var data = {
      labels: routeNames, // Replace with your route names
      datasets: [{
          label: 'Number of Students',
          data: studentCounts, // Replace with your actual student counts for each route
          backgroundColor: [
              'rgba(255, 99, 132, 0.2)',
              'rgba(54, 162, 235, 0.2)',
              'rgba(255, 206, 86, 0.2)',
              'rgba(75, 192, 192, 0.2)',
          ],
          borderColor: [
              'rgba(255, 99, 132, 1)',
              'rgba(54, 162, 235, 1)',
              'rgba(255, 206, 86, 1)',
              'rgba(75, 192, 192, 1)',
          ],
          borderWidth: 1
      }]
  };
  
  // Define chart options
  var options = {
      scales: {
          y: {
              beginAtZero: true
          }
      }
  };
  
  // Create the bar chart
  var myBarChart = new Chart(ctx, {
      type: 'bar',
      data: data,
      options: options
  });
  </script>
{% endblock customer_js %}